I"ù&<p><a href="https://codeforces.com/blog/entry/66696">å®˜æ–¹é¢˜è§£</a></p>
<h1 id="neko-finds-grapes"><a href="https://vjudge.net/problem/CodeForces-1152A">Neko Finds Grapes</a></h1>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
int n, m, a[2], b[2];
int main()
{
	scanf("%d%d", &amp;n, &amp;m);
	for (int i = 0, t; i &lt; n; ++i)
		scanf("%d", &amp;t), ++a[t &amp; 1];
	for (int i = 0, t; i &lt; m; ++i)
		scanf("%d", &amp;t), ++b[t &amp; 1];
	printf("%d", min(a[0], b[1]) + min(a[1], b[0]));
}
</code></pre>
<h1 id="neko-performs-cat-furrier-transform"><a href="https://vjudge.net/problem/CodeForces-1152B">Neko Performs Cat Furrier Transform</a></h1>
<p>æ¯æ¬¡æŠŠæœ€é«˜ä½å¼‚æˆ–æ‰å³å¯ã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
int x, c, b[30], ans[40], *p;
int main()
{
	for (int i = 0; i &lt; 30; ++i)
		b[i] = (1 &lt;&lt; i) - 1;
	for (scanf("%d", &amp;x); p = lower_bound(b, b + 30, x), *p != x; ++c)
	{
		if (c &amp; 1)
			++x;
		else
			x ^= *p, ans[c] = p - b;
	}
	printf("%d\n", c);
	for (int i = 0; i &lt; c; i += 2)
		printf("%d ", ans[i]);
}
</code></pre>
<h1 id="neko-does-maths"><a href="https://vjudge.net/problem/CodeForces-1152C">Neko does Maths</a></h1>
<p>é¢˜æ„ï¼šæ‰¾åˆ°æœ€å°çš„éè´Ÿæ•´æ•°$k$ï¼Œä½¿å¾—$(k+a)/\gcd(k+a,k+b)\times(k+b)$æœ€å°ã€‚</p>

<p>è§£ï¼šä¸å¦¨$a\ge b$ï¼Œè€ƒè™‘$\gcd(a,b)=\gcd(a,a-b)$ï¼Œç”¨$c=a-b$ä»£å…¥åŸå¼ï¼Œå³è¦æœ€å°åŒ–$(k+a)/\gcd(k+a,k+a-c)\times(k+a-c)=(k+a)/\gcd(k+a,c)\times(k+a-c)$ã€‚ç”±äº$\gcd(k+a,c)$ä¸€å®šæ˜¯$c$çš„å› å­ï¼Œæšä¸¾$c$çš„æ‰€æœ‰å› å­$j$ï¼Œè¦æ±‚$j$ä¹Ÿæ˜¯$k+a$çš„å› å­ï¼Œæ»¡è¶³çš„$k$åœ¨$[0,j)$å†…å­˜åœ¨ä¸”å”¯ä¸€ï¼Œæ­¤æ—¶å›ä»£åˆ¤æ–­å³å¯ã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long ll;
ll a, b;
int main()
{
	scanf("%lld%lld", &amp;a, &amp;b);
	if (a &lt; b)
		swap(a, b);
	pair&lt;ll, ll&gt; ans(a / __gcd(a, b) * b, 0);
	for (ll i = 1, c = a - b; i * i &lt;= c; ++i)
		if (c % i == 0)
			for (auto j : {i, c / i})
			{
				ll k = ((-a) % j + j) % j;
				ans = min(ans, {(k + a) / j * (k + a - c), k});
			}
	printf("%lld", ans.second);
}
</code></pre>
<h1 id="neko-and-akis-prank"><a href="https://vjudge.net/problem/CodeForces-1152D">Neko and Akiâ€™s Prank</a></h1>
<p>é¢˜æ„ï¼šæœ‰ä¸€ä¸ªtrieæ˜¯ä»ä¸€ä¸ªæ‹¬å·åºåˆ—å»ºç«‹çš„ï¼Œæ±‚è¿™ä¸ªtrieçš„æœ€å¤§åŒ¹é…æ˜¯å¤šå°‘ã€‚</p>

<p>è§£ï¼šç°åœºå·²ç»çœ‹å‡ºè¿™ä¸ªé¢˜æ˜¯æ ‘çš„DPï¼Œæˆ‘è¿˜æ˜¯å¤ªèœäº†å•Šã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
typedef long long ll;
struct Mod
{
	const ll M, SM;
	Mod(ll M) : M(M), SM(sqrt(M) + 0.5) {}
	ll qadd(ll a, ll b) const { return a += b, a &lt; M ? a : a - M; }			//å‡å¦‚aå’Œbéƒ½å·²ç»åœ¨åŒä½™ç³»å†…ï¼Œå°±ä¸å¿…å–æ¨¡äº†ï¼Œå–æ¨¡è¿ç®—è€—æ—¶å¾ˆé«˜
	ll add(ll a, ll b) const { return a = (a + b) % M, a &lt; 0 ? a + M : a; } //è€ƒè™‘aå’Œbä¸åœ¨åŒä½™ç³»å†…ç”šè‡³ä¸ºè´Ÿæ•°çš„æƒ…å†µ
	ll mul(ll a, ll b) const { return add(a * b, 0); }
	/*
	ll mul(ll x, ll y) const //æ— å¾ªç¯å¿«é€Ÿè®¡ç®—åŒä½™ä¹˜æ³•ï¼Œæ ¹æ®a*bæ˜¯å¦çˆ†llæ›¿æ¢a*b%m
	{
		ll a = x / SM, b = x % SM,
		   c = y / SM, d = y % SM,
		   e = SM * SM - M, //å¯èƒ½ä¸ºè´Ÿ
			f = ((a * d + b * c) % M + a * c / SM * e) % M;
		return add(((a * c % SM + f / SM) * e % M + f % SM * SM) % M, b * d);
	}
	*/
	ll pow(ll a, ll b) const
	{
		ll r = 1;
		for (a = add(a, 0LL); b; b &gt;&gt;= 1, a = mul(a, a))
			if (b &amp; 1)
				r = mul(r, a);
		return r;
	}
	ll inv(ll a) const { return pow(a, M - 2); } //return pow(a, phi(M) - 1);
	/*
	ll inv(ll a) const //æ¨¡mä¸‹açš„ä¹˜æ³•é€†å…ƒï¼Œä¸å­˜åœ¨è¿”å›-1ï¼ˆmä¸ºç´ æ•°æ—¶aä¸ä¸º0å¿…æœ‰é€†å…ƒï¼‰
	{
		ll x, y, d = gcd(a, m, x, y);
		return d == 1 ? (x + m) % m : -1;
	}
	*/
	ll log(ll a, ll b) const
	{
		unordered_map&lt;ll, ll&gt; x;
		for (ll i = 0, e = 1; i &lt;= SM; ++i, e = mul(e, a))
			if (!x.count(e))
				x[e] = i;
		for (ll i = 0, v = inv(pow(a, SM)); i &lt;= SM; ++i, b = mul(b, v))
			if (x.count(b))
				return i * SM + x[b];
		return -1;
	}
	/*
	vector&lt;ll&gt; sol(ll a, ll b) const //è§£åŒä½™æ–¹ç¨‹ï¼Œè¿”å›ax=b(mod M)å¾ªç¯èŠ‚å†…æ‰€æœ‰è§£
	{
		vector&lt;ll&gt; ans;
		ll x, y, d = gcd(a, M, x, y);
		if (b % d)
			return ans;
		ans.push_back((b / d) % (M / d) * (x = (x % M + M) % M));
		for (ll i = 1; i &lt; d; ++i)
			ans.push_back((ans.back() + M / d) % M);
		return ans;
	}
	*/
} M(1e9 + 7);
const ll N = 2047;
ll n, f[N][N][2];
int main()
{
	memset(f, -0x3f, sizeof(f));
	f[0][0][0] = 0;
	for (int i = 1; i + 1 &lt; N; ++i)
	{
		f[i][0][0] = max(f[i - 1][1][0], f[i - 1][1][1]);
		f[i][0][1] = M.qadd(f[i - 1][1][0], 1);
		for (int j = 1; j &lt;= i; ++j)
		{
			f[i][j][0] = M.qadd(
				max(0LL, max(f[i - 1][j - 1][0], f[i - 1][j - 1][1])),
				max(0LL, max(f[i - 1][j + 1][0], f[i - 1][j + 1][1])));
			f[i][j][1] = max(
							 f[i - 1][j - 1][0] + 1 + max(0LL, max(f[i - 1][j + 1][1], f[i - 1][j + 1][0])),
							 f[i - 1][j + 1][0] + 1 + max(0LL, max(f[i - 1][j - 1][0], f[i - 1][j - 1][1]))) %
						 M.M;
		}
	}
	scanf("%lld", &amp;n);
	printf("%lld", max(f[2 * n][0][0], f[2 * n][0][1]));
}
</code></pre>
<h1 id="neko-and-flashback"><a href="https://vjudge.net/problem/CodeForces-1152E">Neko and Flashback</a></h1>
<p>æ¬§æ‹‰è·¯ã€‚è¯¦è§å®˜æ–¹é¢˜è§£ã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N = 1e5 + 9;
int n, b[N], c[N];
struct Ranker : vector&lt;int&gt;
{
	void init() { sort(begin(), end()), resize(unique(begin(), end()) - begin()); }
	int ask(int x) { return lower_bound(begin(), end(), x) - begin(); }
} rk;
struct Graph
{
	struct Vertex
	{
		vector&lt;int&gt; i;
	};
	typedef pair&lt;int, int&gt; Edge;
	vector&lt;Vertex&gt; v;
	vector&lt;Edge&gt; e;
	Graph(int n) : v(n) {}
	void add(const Edge &amp;ed)
	{
		v[ed.second].i.push_back(e.size());
		e.push_back(ed);
	}
};
struct Fleury : Graph
{
	vector&lt;int&gt; vis, cur, p;
	Fleury(int n) : Graph(n) {}
	void dfs(int u)
	{
		for (int &amp;i = cur[u], k; i &lt; v[u].i.size(); ++i)
			if (k = v[u].i[i], !vis[k] &amp;&amp; !vis[k ^ 1])
				vis[k] = 1, dfs(e[k].first), p.push_back(k);
	}
	void ask()
	{
		int cnt = 0;
		for (int i = 0; i &lt; v.size(); ++i)
			if (v[i].i.size() % 2)
				++cnt;
		if (cnt &gt; 2)
			return;
		vis.assign(e.size(), 0), cur.assign(v.size(), 0), p.clear();
		for (int i = 0; i &lt; v.size(); ++i)
			if (v[i].i.size() % 2)
				return dfs(i);
		dfs(0);
	}
};
int main()
{
	scanf("%d", &amp;n);
	for (int i = 0; i &lt; n - 1; ++i)
		scanf("%d", &amp;b[i]), rk.push_back(b[i]);
	for (int i = 0; i &lt; n - 1; ++i)
		scanf("%d", &amp;c[i]), rk.push_back(c[i]);
	rk.init();
	Fleury g(rk.size());
	for (int i = 0; i &lt; n - 1; ++i)
	{
		if (b[i] &gt; c[i])
			return printf("-1"), 0;
		g.add({b[i] = rk.ask(b[i]), c[i] = rk.ask(c[i])}), g.add({c[i], b[i]});
	}
	g.ask();
	if (g.p.size() &lt; n - 1)
		return printf("-1"), 0;
	for (int i = 0; i &lt; n - 1; ++i)
		printf("%d ", rk[g.e[g.p[i]].first]);
	printf("%d ", rk[g.e[g.p[n - 2]].second]);
}
</code></pre>
<h1 id="neko-rules-the-catniverse-small-version"><a href="https://vjudge.net/problem/CodeForces-1152F1">Neko Rules the Catniverse (Small Version)</a></h1>
<p>çŠ¶å‹DPï¼Œç”¨$f[i][j][mask]$æ¥è¡¨ç¤ºæ­£åœ¨è€ƒè™‘ç¬¬iä¸ªï¼Œå·²ç»è€ƒè™‘äº†ç¬¬$j$ä¸ªï¼Œå$m$ä¸ªçš„é€‰æ‹©çŠ¶æ€æ˜¯äºŒè¿›åˆ¶ä½é›†$mask$ã€‚</p>

<p>è¿™é‡Œå¯ä»¥æ»šåŠ¨æ•°ç»„ã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
void add(int &amp;a, long long b, int M = 1e9 + 7) { a = (a + b) % M; }
int n, k, m;
int main()
{
	scanf("%d%d%d", &amp;n, &amp;k, &amp;m);
	vector&lt;vector&lt;int&gt;&gt; f(k + 1, vector&lt;int&gt;(1 &lt;&lt; m, 0));
	f[0][0] = 1;
	for (int i = 0; i &lt; n; ++i)
	{
		vector&lt;vector&lt;int&gt;&gt; g(k + 1, vector&lt;int&gt;(1 &lt;&lt; m, 0));
		for (int j = 0; j &lt; f.size(); ++j)
			for (int mask = 0; mask &lt; f[j].size(); ++mask)
			{
				int newMask = (mask &lt;&lt; 1) % f[j].size();
				add(g[j][newMask], f[j][mask]);
				if (j &lt; k)
					add(g[j + 1][newMask | 1], (1LL + __builtin_popcount(mask)) * f[j][mask]);
			}
		f.swap(g);
	}
	for (int mask = m = 0; mask &lt; f[k].size(); ++mask)
		add(m, f[k][mask]);
	printf("%d", m);
}
</code></pre>
<h1 id="neko-rules-the-catniverse-large-version"><a href="https://vjudge.net/problem/CodeForces-1152F2">Neko Rules the Catniverse (Large Version)</a></h1>
<p>æ³¨æ„åˆ°çŠ¶æ€åªåœ¨ç›¸é‚»çš„ä¸¤ä½è½¬ç§»ï¼Œè¿™é‡Œå¯ä»¥ç”¨çŸ©é˜µåŠ é€ŸDPã€‚</p>

<p>ä¸‹é¢è¿™æ®µä»£ç è·‘äº†5070msï¼Œå®˜æ–¹è¿˜æœ‰ä¸€ä¸ª<a href="https://codeforces.com/contest/1152/submission/53260183">è·‘äº†156msçš„è§£æ³•</a>ï¼Œæš‚æ—¶æ²¡çœ‹æ‡‚â€¦ä¹Ÿå¤ªå¼ºäº†å§ã€‚</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
int n, k, m;
void add(int &amp;a, long long b, int M = 1e9 + 7) { a = (a + b) % M; }
int toId(int j, int mask) { return j &lt;&lt; m | mask; }
struct Matrix
{
	vector&lt;vector&lt;int&gt;&gt; a;
	int n;
	Matrix(int n) : n(n), a(n, vector&lt;int&gt;(n)) {}
	friend Matrix operator*(const Matrix &amp;a, const Matrix &amp;b)
	{
		Matrix c(a.n);
		for (int i = 0; i &lt; a.n; ++i)
			for (int j = 0; j &lt; a.n; ++j)
				for (int k = 0; k &lt; a.n; ++k)
					add(c.a[i][j], 1LL * a.a[i][k] * b.a[k][j]);
		return c;
	}
	friend Matrix pow(Matrix a, int b)
	{
		Matrix r(a.n);
		for (int i = 0; i &lt; a.n; ++i)
			r.a[i][i] = 1;
		for (; b; b &gt;&gt;= 1, a = a * a)
			if (b &amp; 1)
				r = a * r;
		return r;
	}
};
int main()
{
	scanf("%d%d%d", &amp;n, &amp;k, &amp;m);
	Matrix dp(toId(k + 1, 0)), f(dp);
	for (int j = 0; j &lt;= k; ++j)
		for (int mask = 0; mask &lt; (1 &lt;&lt; m); ++mask)
		{
			int newMask = (mask &lt;&lt; 1) % (1 &lt;&lt; m);
			f.a[toId(j, newMask)][toId(j, mask)] = 1;
			if (j &lt; k)
				f.a[toId(j + 1, newMask | 1)][toId(j, mask)] = 1 + __builtin_popcount(mask);
		}
	dp.a[0][0] = 1, dp = pow(f, n) * dp;
	int ans = 0;
	for (int mask = 0; mask &lt; (1 &lt;&lt; m); ++mask)
		add(ans, dp.a[toId(k, mask)][0]);
	printf("%d", ans);
}
</code></pre>
:ET