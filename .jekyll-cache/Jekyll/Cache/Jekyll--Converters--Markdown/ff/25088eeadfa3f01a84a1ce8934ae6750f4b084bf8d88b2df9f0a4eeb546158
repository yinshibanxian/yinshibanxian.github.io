I"ÿ<p><a href="https://easyhpc.org/problems/program/363/">é¢˜ç›®é“¾æ¥</a></p>

<blockquote>
  <p>éšæœºç”Ÿæˆä¸€ä¸ªm*nçš„æ•´å‹çŸ©é˜µï¼Œæ‰“å°è¯¥çŸ©é˜µï¼Œç„¶åä½¿ç”¨openmpå¹¶è¡Œå¯»æ‰¾å…¶æœ€å¤§å€¼åŠåæ ‡(x,y)ï¼Œæœ€å°å€¼åŠåæ ‡(p,q)ã€‚è¦æ±‚å¯å¹¶è¡ŒåŒ–çš„å¾ªç¯éƒ½è¦å¹¶è¡ŒåŒ–ã€‚</p>
</blockquote>

<p>ä¸€å¼€å§‹æ˜¯ä½¿ç”¨<code>rand</code>å‡½æ•°ç”Ÿæˆéšæœºæ•°ï¼Œç»“æœå‘ç°æ¯ä¸ªçº¿ç¨‹ç”Ÿæˆçš„éšæœºæ•°åºåˆ—éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ‰å‘ç°<code>rand</code>æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚å› æ­¤ï¼Œä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„éšæœºæ•°å‡½æ•°<code>rand_r</code>ï¼ˆWindowsä¸‹æ˜¯<code>rand_s</code>ï¼‰ã€‚</p>

<p>è¿™é‡Œåšäº†ä¸€ä¸ªå°trickï¼Œç”¨ä¸€ç»´æ•°ç»„å»æ¨¡æ‹ŸçŸ©é˜µã€‚</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;omp.h&gt;
int main()
{
	int m, n;
	scanf("%d%d", &amp;m, &amp;n);
	int *mat = malloc(m * n * sizeof(int)), ma = 0, mi = 0, pre = time(0);
#pragma omp parallel for
	for (int i = 0; i &lt; m * n; ++i)
		rand_r(&amp;pre), mat[i] = pre;
#pragma omp parallel for
	for (int i = 0; i &lt; m * n; ++i)
	{
#pragma omp critical
		if (mat[ma] &lt; mat[i])
			ma = i;
#pragma omp critical
		if (mat[mi] &gt; mat[i])
			mi = i;
	}
	for (int i = 0; i &lt; m * n; ++i)
		printf("%d%c", mat[i], i % n == n - 1 ? '\n' : ' ');
	printf("max: %d(%d,%d)\nmin: %d(%d,%d)", mat[ma], ma / n, ma % n, mat[mi], mi / n, mi % n);
	free(mat);
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹</p>
<pre><code>-925438579 -1126332182 -534488686 -1767211810
956745691 -2014164158 1868749196 173473471
-8830651 1176503991 1066009373 -1406904493
-1899449319 159599030 -609169565 1729478076
-880143610 -130409017 1504147669 -2027289992
-217405600 1943131529 -2112678481 -79255408
1178127908 -1166815919 -189038604 811456910
max: 1943131529(5,1)
min: -2112678481(5,2)
</code></pre>
:ET