I"”<h3 id="ä¸€loaderæ¦‚è¿°">ä¸€ã€loaderæ¦‚è¿°</h3>

<p>åœ¨webpackå½“ä¸­ï¼Œæ¯ä¸ªloaderæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨å…¬å¼å¯ä»¥è§£é‡Šä¸ºï¼š</p>

<p>output = loader(input)ã€‚è¿™ç‚¹ä»loaderçš„æºç ç»“æ„ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼š</p>

<pre><code>module.exports = function loader(content, map, meta) {
    const callback = this.async;
    const result = handler(content, map, meta);
    callback(
        null, // error
        result.content, // è½¬æ¢åçš„å†…å®¹
        result.map, // è½¬æ¢åçš„source map
        result.meta // è½¬æ¢åçš„AST
    )
}
</code></pre>
<p>loaderæœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°å½“ä¸­å¯¹æ¥æ”¶çš„å†…å®¹è¿›è¡Œè½¬æ¢ï¼Œç„¶åè¿”å›è½¬æ¢</p>

<p>åçš„ç»“æœï¼ˆå¯èƒ½åŒ…å«source map å’Œ ASTå¯¹è±¡ï¼‰.</p>

<p>loaderçš„å­—é¢æ„æ€æ˜¯è£…è½½å™¨ï¼Œåœ¨webpackå½“ä¸­å®ƒçš„å®é™…åŠŸèƒ½æ›´åƒæ˜¯ä¸€ä¸ªé¢„å¤„ç†å™¨ï¼Œ</p>

<p>webpackæœ¬èº«åªè®¤è¯†javascriptï¼Œå¯¹äºå…¶ä»–ç±»å‹çš„èµ„æºå¿…é¡»é¢„å…ˆå®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ª</p>

<p>loaderå¯¹å…¶è¿›è¡Œè½¬è¯‘ï¼Œè¾“å‡ºä¸ºwebpackèƒ½å¤Ÿæ¥æ”¶çš„å½¢å¼å†ç»§ç»­ï¼Œå› æ­¤loaderåšçš„</p>

<p>å®é™…ä¸Šæ˜¯ä¸€ä¸ªé¢„å¤„ç†çš„å·¥ä½œã€‚</p>

<h3 id="äºŒå¼•å…¥loader">äºŒã€å¼•å…¥loader</h3>

<p>ç›´æ¥ä»ä¸€ä¸ªJSæ–‡ä»¶å½“ä¸­åŠ è½½ä¸€ä¸ªCSSæ–‡ä»¶</p>

<pre><code>// index.js
import addContent from './add-content.js'
import './style.css'
document.write('My first Webpack App.&lt;br/&gt;');
addContent();
</code></pre>

<pre><code>// style.css
body {
    text-align: center;
    padding: 100px;
    color: #ffffff;
    background-color: #09c;
}
</code></pre>

<p>å› ä¸ºæ­¤æ—¶æ²¡æœ‰å¼•å…¥ä»»ä½•loaderï¼Œå› æ­¤ç›´æ¥æ‰“åŒ…å°†ä¼šæŠ¥é”™ï¼š
<img src="/public/images/loader-not-found.png" alt="image" /></p>

<p>ä¸‹é¢æˆ‘ä»¬æŠŠcss-loaderåŠ å…¥åˆ°é¡¹ç›®å½“ä¸­ã€‚loaderéƒ½æ˜¯ä¸€äº›ç¬¬ä¸‰æ–¹çš„npmæ¨¡å—ï¼Œwebpackæœ¬èº«</p>

<p>ä¸åŒ…å«ä»»ä½•loader,å› æ­¤æˆ‘ä»¬é¦–å…ˆè¦ä»npmå®‰è£…:</p>

<pre><code>npm install css-loader
</code></pre>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨webpack.conf.jsä¸­é…ç½®loader:</p>

<pre><code>module.exports = {
    entry: './src/index.js', // Javascriptæ‰§è¡Œå…¥å£æ–‡ä»¶
    // éœ€è¦æŒ‡å®šä»¥ä¸‹è¾“å‡ºçš„è·¯å¾„Pathå’Œè¾“å‡ºçš„æ–‡ä»¶åfilename
    output: {
        filename: 'bundle.js', // è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å
        path: path.resolve(__dirname,'./dist') // è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„
    },
    // è®¾ç½®mode
    mode: 'development',
    devServer: {
        publicPath: '/dist'
    },
    // åœ¨moduleå½“ä¸­é…ç½®loader
    module: {
        rules: [
            {
                test: /\.css/,
                use: ['css-loader']
            }
        ]
    }
}
</code></pre>

<p>ä¸loaderç›¸å…³çš„é…ç½®éƒ½åœ¨moduleå¯¹è±¡ä¸­ï¼Œå…¶ä¸­module.rulesä»£è¡¨äº†æ¨¡å—çš„å¤„ç†è§„åˆ™ã€‚æ¯æ¡è§„åˆ™å†…éƒ¨å¯ä»¥åŒ…å«å¾ˆå¤šé…ç½®é¡¹ï¼Œ</p>

<p>è¿™é‡Œæˆ‘ä»¬åªä½¿ç”¨äº†æœ€ä¸­è¦çš„ä¸¤é¡¹â€“testå’Œuseã€‚</p>

<ul>
  <li>testå¯æ¥æ”¶ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æˆ–è€…ä¸€ä¸ªå…ƒç´ ä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„æ•°ç»„</li>
  <li>useå¯æ¥æ”¶ä¸€ä¸ªæ•°ç»„</li>
</ul>
:ET